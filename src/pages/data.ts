const pricePerHour = [
  0.3766,
  0.3766,
  0.3766,
  0.3766,
  0.3766,
  0.3766,
  0.3766,
  0.677,
  0.677,
  0.677,
  0.9864,
  1.0761,
  1.0761,
  1.0761,
  0.9864,
  0.9864,
  1.0761,
  1.0761,
  0.9864,
  0.9864,
  0.9864,
  0.9864,
  0.677,
  0.677,
];

// 实时电价
export function realTimePrice() {
  return pricePerHour[new Date().getHours()];
}

const mutableData = {
  // Output发电量(kW)
  // Direct太阳直射辐射强度(kW/m2)
  // Diffuse太阳散射辐射强度(kW/m2)
  // Temperature温度(ºC)
  PHOTOVOLTAIC: [
    [0, 0, 0, 35.21],
    [0, 0, 0, 37.68],
    [0, 0, 0, 38.82],
    [0, 0, 0, 38.84],
    [0, 0, 0, 38.23],
    [182.66, 0, 35, 37.98],
    [557.6, 1, 81, 37.72],
    [1576.67, 19, 186, 37.21],
    [3028.36, 70, 319, 36.8],
    [3653.26, 87, 386, 36.66],
    [3162.95, 37, 371, 36.27],
    [2124.66, 10, 266, 35.47],
    [1913.15, 8, 242, 34.33],
    [1480.53, 4, 191, 33.77],
    [1067.14, 3, 143, 33.39],
    [999.84, 2, 134, 32.92],
    [1288.25, 5, 166, 32.42],
    [788.33, 2, 109, 32.0],
    [307.64, 0, 52, 31.8],
    [0.0, 0, 6, 31.61],
    [0.0, 0, 0, 31.46],
    [0.0, 0, 0, 31.31],
    [0.0, 0, 0, 31.36],
    [0.0, 0, 0, 31.69],
  ],

  // Output发电量(kW)
  // Windspeed风速(m/s)
  WIND: [
    [2750.86, 5.69],
    [1353.6, 4.56],
    [553.08, 3.58],
    [261.99, 3.03],
    [160.1, 2.76],
    [203.77, 2.87],
    [203.77, 2.86],
    [145.55, 2.68],
    [422.09, 3.34],
    [756.85, 3.87],
    [1062.5, 4.24],
    [1164.38, 4.36],
    [1149.83, 4.35],
    [1397.26, 4.6],
    [1761.13, 4.93],
    [2037.67, 5.16],
    [2066.78, 5.19],
    [1979.45, 5.12],
    [2314.21, 5.38],
    [3231.17, 6.01],
    [3653.26, 6.26],
    [3158.39, 5.96],
    [2328.77, 5.39],
    [1644.69, 4.83],
  ],

  // Output发电量(kW)
  // Electricity Consumption of Electric Refrigerator电制冷机消耗电量
  // Cold Load冷负荷(kW)
  // Thermal Load热负荷(kW)
  // Fuel Price燃料价格(RMB/m3)
  GAS: [
    [2789, 1394.5, 7948.65, 996.07, 2.65],
    [2769, 1384.5, 7891.65, 988.93, 2.65],
    [2679, 1339.5, 7635.15, 956.79, 2.65],
    [2719, 1359.5, 7749.15, 971.07, 2.65],
    [2703, 1351.5, 7703.55, 965.36, 2.65],
    [2646, 1323.0, 7541.1, 945.0, 2.65],
    [2681, 1340.5, 7640.85, 957.5, 2.65],
    [2737, 1368.5, 7800.45, 977.5, 2.65],
    [2764, 1382.0, 7877.4, 987.14, 2.65],
    [2756, 1378.0, 7854.6, 984.29, 2.65],
    [2778, 1389.0, 7917.3, 992.14, 2.65],
    [2655, 1327.5, 7566.75, 948.21, 2.65],
    [2645, 1322.5, 7538.25, 944.64, 2.65],
    [2619, 1309.5, 7464.15, 935.36, 2.65],
    [2699, 1349.5, 7692.15, 963.93, 2.65],
    [2602, 1301.0, 7415.7, 929.29, 2.65],
    [2784, 1392.0, 7934.4, 994.29, 2.65],
    [2769, 1384.5, 7891.65, 988.93, 2.65],
    [2628, 1314.0, 7489.8, 938.57, 2.65],
    [2631, 1315.5, 7498.35, 939.64, 2.65],
    [2707, 1353.5, 7714.95, 966.79, 2.65],
    [2694, 1347.0, 7677.9, 962.14, 2.65],
    [2626, 1313.0, 7484.1, 937.86, 2.65],
    [2720, 1360.0, 7752.0, 971.43, 2.65],
  ],

  // Output发电量(kW)
  // Residual Electricity剩余电量(Kw)
  // Charge充电量(kW)
  BATTERY: [
    [0.0, 0, 2553],
    [0.0, 2553, 2553],
    [0.0, 5106, 2553],
    [0.0, 7659, 2553],
    [0.0, 10212, 2553],
    [0.0, 12765, 2553],
    [0.0, 15318, 0],
    [1196, 14122.0, 0],
    [279, 13843.0, 0],
    [109, 13734.0, 0],
    [1018, 12716.0, 0],
    [1154, 11562.0, 0],
    [909, 10653.0, 0],
    [937, 9716.0, 0],
    [1023, 8693.0, 0],
    [1019, 7674.0, 0],
    [986, 6688.0, 0],
    [937, 5751.0, 0],
    [1200, 4551.0, 0],
    [1098, 3453.0, 0],
    [1130, 2323.0, 0],
    [921, 1402.0, 0],
    [942, 460.0, 0],
    [460, 0.0, 0],
  ],
};

// 可变参数
export function realTimeMutableData(genre: string) {
  return mutableData[genre][new Date().getHours()];
}

// 固定参数
const immutableData = {
  // "Investment cost 投资成本"
  PHOTOVOLTAIC: [0.65, 0, 0.65],
  // "Investment cost 投资成本"
  WIND: [0.57, 0, 0.57],
  // "Investment cost 投资成本"
  // 燃料成本
  GAS: [0.6, 0.3, 0.9],
  // 投资成本Investment cost
  // 分时电价Electricity Price
  BATTERY: [0.58, 0.3766, 0.9566],
};

export function realTimeImmutableData(genre: string) {
  return immutableData[genre];
}

// 首页图表数据
const charts = {
  PHOTOVOLTAIC: [
    {
      time: '0:00',
      PV: 0,
      Diffuse: 0,
    },
    {
      time: '1:00',
      PV: 0,
      Diffuse: 0,
    },
    {
      time: '2:00',
      PV: 0,
      Diffuse: 0,
    },
    {
      time: '3:00',
      PV: 0,
      Diffuse: 0,
    },
    {
      time: '4:00',
      PV: 0,
      Diffuse: 0,
    },
    {
      time: '5:00',
      PV: 0.2,
      Diffuse: 0.9,
    },
    {
      time: '6:00',
      PV: 1.9,
      Diffuse: 3.5,
    },
    {
      time: '7:00',
      PV: 5.3,
      Diffuse: 7.5,
    },
    {
      time: '8:00',
      PV: 31.5,
      Diffuse: 31.9,
    },
    {
      time: '9:00',
      PV: 38,
      Diffuse: 38.6,
    },
    {
      time: '10:00',
      PV: 32.9,
      Diffuse: 37.1,
    },
    {
      time: '11:00',
      PV: 22.1,
      Diffuse: 26.6,
    },
    {
      time: '12:00',
      PV: 19.9,
      Diffuse: 24.2,
    },
    {
      time: '13:00',
      PV: 15.4,
      Diffuse: 19.1,
    },
    {
      time: '14:00',
      PV: 11.1,
      Diffuse: 14.3,
    },
    {
      time: '15:00',
      PV: 10.4,
      Diffuse: 13.4,
    },
    {
      time: '16:00',
      PV: 13.4,
      Diffuse: 16.6,
    },
    {
      time: '17:00',
      PV: 8.2,
      Diffuse: 10.9,
    },
    {
      time: '18:00',
      PV: 3.2,
      Diffuse: 5.2,
    },
    {
      time: '19:00',
      PV: 0,
      Diffuse: 0.6,
    },
    {
      time: '20:00',
      PV: 0,
      Diffuse: 0,
    },
    {
      time: '21:00',
      PV: 0,
      Diffuse: 0,
    },
    {
      time: '22:00',
      PV: 0,
      Diffuse: 0,
    },
    {
      time: '23:00',
      PV: 0,
      Diffuse: 0,
    },
  ],
};

function fill(begin: number) {
  const ret = [];
  for (let i = begin; i < 24; i++) {
    ret.push({
      time: ('0' + i).slice(-2) + ':00',
      PV: 0,
      Direct: 0,
      Diffuse: 0,
      Temperature: 0,
    });
  }
  return ret;
}

export function getChartsData(role: string) {
  const hour = new Date().getHours();
  let data;
  try {
    data = charts[role].slice(0, hour + 1).concat(fill(hour + 1));
  } catch (e) {
    data = charts.PHOTOVOLTAIC.slice(0, hour + 1).concat(fill(hour + 1));
  }
  return data;
}
